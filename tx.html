<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#000000">

<title>System Update</title>

<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<style>
    /* --- CORE SYSTEM STYLES --- */
    * {
        /* Chặn bôi đen chữ */
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        /* Chặn menu chuột phải mặc định trên mobile */
        -webkit-touch-callout: none;
    }

    body, html {
        margin: 0; padding: 0; width: 100%; height: 100%;
        overflow: hidden; /* Cấm cuộn trang */
        background-color: #000;
        cursor: none !important; /* QUAN TRỌNG: Giấu chuột vĩnh viễn */
        
        /* Chặn các hành vi vuốt/kéo của trình duyệt (Pull-to-refresh, Back swipe) */
        overscroll-behavior: none;
        touch-action: none; 

        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }

    /* Màn hình khởi động để kích hoạt Fullscreen */
    #overlay-start {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #000; z-index: 9999;
        display: flex; justify-content: center; align-items: center;
        /* Riêng màn hình này phải hiện chuột để người dùng click */
        cursor: default !important; 
    }
    
    .hidden { display: none !important; }

    /* --- WINDOWS STYLE --- */
    #view-windows {
        background-color: #0078d7; color: #fff;
        padding-left: 10vw; padding-top: 15vh;
        height: 100%; box-sizing: border-box; display: none;
        font-family: 'Segoe UI', sans-serif;
    }
    .win-sad { font-size: 8rem; margin-bottom: 1rem; font-weight: 300; }
    .win-text { font-size: 1.5rem; margin-bottom: 2rem; font-weight: 300; max-width: 900px; }
    
    /* --- MAC STYLE --- */
    #view-mac {
        background-color: #000; color: #fff; height: 100%; display: none;
        flex-direction: column; justify-content: center; align-items: center;
    }
    
    /* --- MOBILE STYLE --- */
    #view-mobile {
        background-color: #000; height: 100%; display: none;
        flex-direction: column; justify-content: center; align-items: center;
    }
    
    /* Helper Animations */
    @keyframes blink { 50% { opacity: 0; } }
    .blink { animation: blink 1s linear infinite; }

</style>
</head>
<body>

<div id="overlay-start">
    <div style="text-align:center; color:#333; font-family:monospace;">
        <h2 style="font-weight:normal; letter-spacing: 2px;">SYSTEM BOOT CHECK</h2>
        <p class="blink" style="font-size:12px; margin-top:20px;">TOUCH SCREEN TO CONTINUE</p>
    </div>
</div>

<div id="view-windows">
    <div class="win-sad">:(</div>
    <div class="win-text">Your device ran into a problem and needs to restart.<br>We're just collecting some error info, and then we'll restart for you.</div>
    <div class="win-text"><span id="win-pct">0</span>% complete</div>
    <div style="display:flex; align-items:center; margin-top:30px;">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMyAzMyIgc2hhcGUtcmVuZGVyaW5nPSJjcmlzcEVkZ2VzIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDMzdjMzSDB6Ii8+PHBhdGggZD0iTTAgM2g3djdIMHpNMSA0djVoNVY0em0yIDJoMXYxaC0xem0wIDJoMXYxaC0xem0zLTJoMXYxaC0xem0yLTVoMnYxaC0xdjFoMXY1aDF2LTFoMXYzaC0ydjJoLTF2LTFoLTF2MWgtMXYtMmgtMXYxaC0xdjFoLTF2LTFoMXYtMWgxdjFoMXYtM2gxdi0xaDFWNGgxVjN2LTFoLTJ2MXptLTcgOWg3djdIMHptMSAxdjVoNXYtNXptMiAyaDF2MWgtMXptMCAyaDF2MWgtMXptMy0yaDF2MWgtMXptOSAxM2g3djdIMjF6bTEgMXY1aDV2LTV6bTIgMmgxdjFoLTF6bTAgMmgxdjFoLTF6bTMtMmgxdjFoLTF6Ii8+PC9zdmc+" style="width:100px; height:100px; margin-right:20px;">
        <div style="font-size:0.9rem;">
            <p style="margin:0 0 5px 0;">Stop code: CRITICAL_PROCESS_DIED</p>
            <p style="margin:0; opacity:0.7;">https://windows.com/stopcode</p>
        </div>
    </div>
</div>

<div id="view-mac">
    <svg viewBox="0 0 170 170" width="80" height="80" fill="#fff" style="margin-bottom:40px;">
        <path d="M150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.75 6.85-9.7 13.5-16.9 13.6-7.42.12-9.8-4.4-18.26-4.4-8.55 0-11.2 4.4-18.2 4.48-7.3.12-12.87-7.27-17.5-14.1-9.45-13.88-16.68-39.2-6.73-56.55 4.96-8.62 13.75-14.06 23.3-14.2 7.08-.1 13.7 4.77 18 4.77 4.3 0 12.3-5.9 20.7-5 3.5.15 13.25 1.4 19.5 10.58-16.9 10.15-14.17 40.06 2.8 45.16zm-36.4-98.3c3.8-4.6 6.37-10.97 5.67-17.34-5.46.22-12.1 3.65-16 8.23-3.4 3.93-6.4 10.26-5.6 16.3 6.1.47 12.3-3.03 15.93-7.2z"/>
    </svg>
    <div style="width:200px; height:4px; background:#333; border-radius:2px; overflow:hidden;">
        <div id="mac-bar" style="width:0%; height:100%; background:#fff;"></div>
    </div>
</div>

<div id="view-mobile">
    <div id="mob-android" class="hidden" style="text-align:center;">
        <div style="width:40px; height:40px; border:3px solid rgba(255,255,255,0.2); border-top-color:#3498db; border-radius:50%; animation: spin 1s infinite linear; margin:0 auto 20px;"></div>
        <div style="color:#ddd; font-family:Roboto, sans-serif; font-size:14px;">Installing system update...</div>
        <div id="mob-pct" style="color:#888; margin-top:10px; font-size:12px;">0%</div>
    </div>
    
    <div id="mob-ios" class="hidden" style="text-align:center;">
        <svg viewBox="0 0 170 170" width="80" height="80" fill="#fff" style="margin-bottom:50px;">
           <path d="M150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.75 6.85-9.7 13.5-16.9 13.6-7.42.12-9.8-4.4-18.26-4.4-8.55 0-11.2 4.4-18.2 4.48-7.3.12-12.87-7.27-17.5-14.1-9.45-13.88-16.68-39.2-6.73-56.55 4.96-8.62 13.75-14.06 23.3-14.2 7.08-.1 13.7 4.77 18 4.77 4.3 0 12.3-5.9 20.7-5 3.5.15 13.25 1.4 19.5 10.58-16.9 10.15-14.17 40.06 2.8 45.16zm-36.4-98.3c3.8-4.6 6.37-10.97 5.67-17.34-5.46.22-12.1 3.65-16 8.23-3.4 3.93-6.4 10.26-5.6 16.3 6.1.47 12.3-3.03 15.93-7.2z"/>
        </svg>
        <div style="width:200px; height:3px; background:#333; margin:0 auto;"><div id="ios-bar" style="width:0%; height:100%; background:#fff;"></div></div>
    </div>
</div>

<style>@keyframes spin { 100% { transform: rotate(360deg); } }</style>

<script>
    // --- 1. NHẬN DIỆN OS ---
    function getOS() {
        const u = navigator.userAgent;
        if (/iPhone|iPad|iPod/i.test(u)) return 'iOS';
        if (/Android/i.test(u)) return 'Android';
        if (/Mac/i.test(navigator.platform)) return 'Mac';
        return 'Windows';
    }

    // --- 2. KÍCH HOẠT CHẾ ĐỘ TOÀN MÀN HÌNH ---
    function launchFullscreen(element) {
        if(element.requestFullscreen) { element.requestFullscreen(); }
        else if(element.mozRequestFullScreen) { element.mozRequestFullScreen(); }
        else if(element.webkitRequestFullscreen) { element.webkitRequestFullscreen(); }
        else if(element.msRequestFullscreen) { element.msRequestFullscreen(); }
    }

    // --- 3. TIẾN TRÌNH GIẢ ---
    function fakeProgress(callback) {
        let p = 0;
        const run = () => {
            // Logic: Nhanh đoạn đầu, rất chậm đoạn cuối
            let jump = Math.random() * 2;
            if(p > 80) jump = 0.2; 
            if(p > 95 && Math.random() > 0.9) jump = 0; // Đứng hình
            
            p += jump;
            if(p > 100) p = 100;
            
            callback(Math.floor(p));
            
            if(p < 100) setTimeout(run, Math.random() * 500);
        };
        setTimeout(run, 500);
    }

    // --- MAIN ---
    const overlay = document.getElementById('overlay-start');
    const os = getOS();

    // Thay đổi tiêu đề trang web để khớp với OS (ẩn danh tính trình duyệt)
    if(os === 'Windows') document.title = "Recovery";
    else if(os === 'Mac' || os === 'iOS') document.title = "Software Update";
    else document.title = "System Update";

    overlay.addEventListener('click', function() {
        // Vào Fullscreen ngay lập tức
        launchFullscreen(document.documentElement);
        
        // Ẩn overlay
        this.style.display = 'none';
        
        // Hiện giao diện tương ứng
        if(os === 'Windows') {
            document.getElementById('view-windows').style.display = 'block';
            fakeProgress(p => document.getElementById('win-pct').innerText = p);
        }
        else if(os === 'Mac') {
            document.getElementById('view-mac').style.display = 'flex';
            fakeProgress(p => document.getElementById('mac-bar').style.width = p + "%");
        }
        else if(os === 'iOS') {
            document.getElementById('view-mobile').style.display = 'flex';
            document.getElementById('mob-ios').classList.remove('hidden');
            fakeProgress(p => document.getElementById('ios-bar').style.width = p + "%");
        }
        else { // Android & Others
            document.getElementById('view-mobile').style.display = 'flex';
            document.getElementById('mob-android').classList.remove('hidden');
            fakeProgress(p => document.getElementById('mob-pct').innerText = p + "%");
        }
    });

    // --- CHẶN THOÁT (Hạn chế tối đa) ---
    // Chặn chuột phải
    document.addEventListener('contextmenu', e => e.preventDefault());
    
    // Chặn F11, ESC (Trình duyệt sẽ chặn lại, nhưng cứ thử)
    document.addEventListener('keydown', e => {
        if(e.key === 'F11' || e.key === 'Escape' || e.key === 'F5') {
            e.preventDefault();
        }
    });

</script>
</body>
</html>
